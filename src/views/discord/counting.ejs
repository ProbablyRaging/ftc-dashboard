<%- include('../partials/header') -%>

<% function numberWithCommas(x) { %>
<% return x?.toString().replace(/\B(?=(\d{3})+(?!\d))/g, "," ); %>
<% } %>

<!-- Content Box -->
<div class="con-box">
    <!-- Content Box Inner -->
    <header class="content-box-title-class">
        <div class="content-box-title-flex">
            <h5 class="content-box-title-decor">
                <div class="content-box-title">Counting Game Leaderboard</div>

            </h5>
        </div>
    </header>

    <hr class="content-box-separator">

    <div class="leaderboard">
        <table class="leaderboard-table">
            <tbody>
                <% for (var i=0; i < 30; i++) { %>

                <tr>
                    <td class="rank">
                        <%= i + 1 %>
                    </td>
                    <td class="nick">
                        <img class="leaderboard-avatar"
                            src="https://cdn.discordapp.com/avatars/<%= dataArr[i].userId %>/<%= dataArr[i].avatar %>.webp">
                        <%= dataArr[i].username %>
                    </td>
                    <td class="message-count"><strong>Counts</strong>
                        <%= numberWithCommas(dataArr[i].counts) %>
                    </td>
                </tr>

                <% } %>
            </tbody>
        </table>
    </div>
</div>

<%- include('../partials/footer') -%>